{
  "hash": "e40e172469a11f161730a6a9435c8416",
  "result": {
    "markdown": "---\ntitle: \"Lithium Companies Stocks\"\nformat: html\n---\n\n::: {.cell}\n<style type=\"text/css\">\n.justify {\n    text-align: justify !important;\n    text-indent: 20px; \n}\n\n.epigrafe {\n    text-align: justify !important;\n    text-indent: 20px; \n    border: 1.5px solid #87c8b5; \n    padding-top: 15px;\n    padding-bottom: 5px;\n    padding-right: 15px;\n    padding-left: 15px;\n    font-size: 14px;\n    background-color: #f9f9f9; \n    margin: 20px 0px 30px 0px;\n}\n</style>\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Function Fill in NAs Stock Data\"}\nstocks_NAs <- function(data_frame){\n\n    symbol <- max(data_frame$symbol)\n\n    # Select relevant columns\n    data_frame <- data.frame(data_frame$date, data_frame$adjusted)\n\n    # Rename columsn\n    names(data_frame) <- c(\"date\", \"adjusted\")\n\n    # Create a sequence of dates from start_date to end_date\n    start_date <- as.Date(min(data_frame$date))  \n    end_date <- as.Date(max(data_frame$date))\n\n    # Create data range\n    date_range <- seq(start_date, end_date, by = \"1 day\")\n\n    # Create a dataset with the date range\n    date_dataset <- data.frame(Date = date_range)\n\n    # Merge dataframes\n    data_frame <- merge(data_frame, date_dataset, by.x = \"date\", by.y = \"Date\", all = TRUE)\n\n    # Extract rows with missing values\n    df_na_rows <- data_frame[which(rowSums(is.na(data_frame)) > 0),]\n\n    # Extract columns with missing values\n    df_na_cols <- data_frame[, which(colSums(is.na(data_frame)) > 0)]\n\n    # Modify data\n    imputed_time_series <- na_ma(data_frame, k = 4, weighting = \"exponential\")\n\n    # Add modified data\n    data_frame <- data.frame(imputed_time_series)\n\n    # Change data type\n    data_frame$date <- as.Date(data_frame$date,format = \"%m/%d/%y\")\n\n    names(data_frame) <- c(\"date\", symbol)\n\n    return(data_frame)\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Function Merge Dataframs\"}\nmerge_dataframes <- function(dataframes_list) {\n  # Perform inner join using the first data frame as the base\n  df_complete <- dataframes_list[[1]]\n  \n  # Iterate over the remaining data frames and merge\n  for (i in 2:length(dataframes_list)) {\n    df_complete <- merge(df_complete, dataframes_list[[i]], by = \"date\", all.x = TRUE)\n  }\n  \n  return(df_complete)\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Data Gathering\"}\ndf_list <- list()\n\nstart <- \"2000-01-01\"\nend <- \"2022-12-31\"\n\ntickers <- c(\"ALB\", \"SQM\", \"MALRY\", \"LTHM\", \"SGML\", \"GNENF\", \"PILBF\")\n\nfor(i in tickers){\n    df <- tq_get(i, get = \"stock.prices\", from = start, to = end)\n\n    df <- stocks_NAs(df)\n\n    df_list <- append(df_list, list(df))\n}\n```\n:::\n\n\n**Cleaned Data:**\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> date </th>\n   <th style=\"text-align:right;\"> ALB </th>\n   <th style=\"text-align:right;\"> SQM </th>\n   <th style=\"text-align:right;\"> MALRY </th>\n   <th style=\"text-align:right;\"> LTHM </th>\n   <th style=\"text-align:right;\"> SGML </th>\n   <th style=\"text-align:right;\"> GNENF </th>\n   <th style=\"text-align:right;\"> PILBF </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 8389 </td>\n   <td style=\"text-align:left;\"> 2022-12-21 </td>\n   <td style=\"text-align:right;\"> 231.2842 </td>\n   <td style=\"text-align:right;\"> 78.71401 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 20.90000 </td>\n   <td style=\"text-align:right;\"> 31.50000 </td>\n   <td style=\"text-align:right;\"> 7.866558 </td>\n   <td style=\"text-align:right;\"> 2.370224 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8390 </td>\n   <td style=\"text-align:left;\"> 2022-12-22 </td>\n   <td style=\"text-align:right;\"> 224.6726 </td>\n   <td style=\"text-align:right;\"> 76.76343 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 20.65000 </td>\n   <td style=\"text-align:right;\"> 31.50000 </td>\n   <td style=\"text-align:right;\"> 7.613114 </td>\n   <td style=\"text-align:right;\"> 2.356391 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8391 </td>\n   <td style=\"text-align:left;\"> 2022-12-23 </td>\n   <td style=\"text-align:right;\"> 225.6470 </td>\n   <td style=\"text-align:right;\"> 76.67011 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 20.76000 </td>\n   <td style=\"text-align:right;\"> 30.85000 </td>\n   <td style=\"text-align:right;\"> 7.397833 </td>\n   <td style=\"text-align:right;\"> 2.333334 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8392 </td>\n   <td style=\"text-align:left;\"> 2022-12-24 </td>\n   <td style=\"text-align:right;\"> 224.2904 </td>\n   <td style=\"text-align:right;\"> 76.33982 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 20.61111 </td>\n   <td style=\"text-align:right;\"> 30.62333 </td>\n   <td style=\"text-align:right;\"> 7.524066 </td>\n   <td style=\"text-align:right;\"> 2.342044 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8393 </td>\n   <td style=\"text-align:left;\"> 2022-12-25 </td>\n   <td style=\"text-align:right;\"> 219.7655 </td>\n   <td style=\"text-align:right;\"> 74.71152 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 20.27429 </td>\n   <td style=\"text-align:right;\"> 29.73071 </td>\n   <td style=\"text-align:right;\"> 7.426980 </td>\n   <td style=\"text-align:right;\"> 2.331358 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8394 </td>\n   <td style=\"text-align:left;\"> 2022-12-26 </td>\n   <td style=\"text-align:right;\"> 215.4762 </td>\n   <td style=\"text-align:right;\"> 73.26099 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 19.95778 </td>\n   <td style=\"text-align:right;\"> 28.78222 </td>\n   <td style=\"text-align:right;\"> 7.345427 </td>\n   <td style=\"text-align:right;\"> 2.322318 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8395 </td>\n   <td style=\"text-align:left;\"> 2022-12-27 </td>\n   <td style=\"text-align:right;\"> 212.9210 </td>\n   <td style=\"text-align:right;\"> 72.58228 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 19.94000 </td>\n   <td style=\"text-align:right;\"> 29.00000 </td>\n   <td style=\"text-align:right;\"> 7.299978 </td>\n   <td style=\"text-align:right;\"> 2.365613 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8396 </td>\n   <td style=\"text-align:left;\"> 2022-12-28 </td>\n   <td style=\"text-align:right;\"> 212.8017 </td>\n   <td style=\"text-align:right;\"> 71.54632 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 19.52000 </td>\n   <td style=\"text-align:right;\"> 27.42000 </td>\n   <td style=\"text-align:right;\"> 7.372391 </td>\n   <td style=\"text-align:right;\"> 2.213439 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8397 </td>\n   <td style=\"text-align:left;\"> 2022-12-29 </td>\n   <td style=\"text-align:right;\"> 216.2119 </td>\n   <td style=\"text-align:right;\"> 73.61823 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 19.80000 </td>\n   <td style=\"text-align:right;\"> 27.49000 </td>\n   <td style=\"text-align:right;\"> 7.348906 </td>\n   <td style=\"text-align:right;\"> 2.333334 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8398 </td>\n   <td style=\"text-align:left;\"> 2022-12-30 </td>\n   <td style=\"text-align:right;\"> 215.6054 </td>\n   <td style=\"text-align:right;\"> 74.51420 </td>\n   <td style=\"text-align:right;\"> 52.24586 </td>\n   <td style=\"text-align:right;\"> 19.87000 </td>\n   <td style=\"text-align:right;\"> 28.22000 </td>\n   <td style=\"text-align:right;\"> 7.221694 </td>\n   <td style=\"text-align:right;\"> 2.333334 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n<br>\n\n**Summary:**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n      date                 ALB               SQM               MALRY       \n Min.   :2000-01-03   Min.   :  5.025   Min.   :  0.7274   Min.   : 1.893  \n 1st Qu.:2005-10-02   1st Qu.: 14.615   1st Qu.:  5.3422   1st Qu.: 6.596  \n Median :2011-07-02   Median : 44.952   Median : 17.3408   Median : 8.229  \n Mean   :2011-07-02   Mean   : 56.984   Mean   : 19.7365   Mean   :13.423  \n 3rd Qu.:2017-03-31   3rd Qu.: 69.799   3rd Qu.: 30.5012   3rd Qu.:12.922  \n Max.   :2022-12-30   Max.   :322.982   Max.   :100.5391   Max.   :59.326  \n                                                           NA's   :4634    \n      LTHM             SGML            GNENF            PILBF      \n Min.   : 4.190   Min.   : 1.060   Min.   : 1.323   Min.   :0.078  \n 1st Qu.: 8.117   1st Qu.: 1.436   1st Qu.: 2.767   1st Qu.:0.304  \n Median :16.765   Median : 1.894   Median : 7.901   Median :0.500  \n Mean   :16.515   Mean   : 6.615   Mean   : 8.506   Mean   :0.784  \n 3rd Qu.:23.400   3rd Qu.: 9.315   3rd Qu.:13.413   3rd Qu.:0.858  \n Max.   :35.050   Max.   :37.460   Max.   :22.228   Max.   :3.412  \n NA's   :6856     NA's   :6756     NA's   :6974     NA's   :5971   \n```\n:::\n:::\n\n\n<br>\n\n**Dimensions:**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8398    8\n```\n:::\n:::\n\n::: {.cell}\n\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}